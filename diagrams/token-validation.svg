<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="566px" preserveAspectRatio="none" style="width:794px;height:566px;" version="1.1" viewBox="0 0 794 566" width="794px" zoomAndPan="magnify"><defs><filter height="300%" id="f19pyumoxd51rd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="206" x="292.25" y="28.708">Token Validation Process</text><rect fill="#FFFFFF" filter="url(#f19pyumoxd51rd)" height="324.4609" style="stroke:#000000;stroke-width:2.0;" width="770.5" x="10" y="140.25"/><rect fill="#FFFFFF" filter="url(#f19pyumoxd51rd)" height="133.6641" style="stroke:#000000;stroke-width:2.0;" width="633" x="20" y="324.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="123.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="235.5" x2="235.5" y1="123.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="287.5" x2="287.5" y1="123.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="552" x2="552" y1="123.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="619" x2="619" y1="123.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="738.5" x2="738.5" y1="123.25" y2="481.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="30" y="119.9482">TelegramUser</text><ellipse cx="77.5" cy="49.9531" fill="#FEFECE" filter="url(#f19pyumoxd51rd)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M77.5,57.9531 L77.5,84.9531 M64.5,65.9531 L90.5,65.9531 M77.5,84.9531 L64.5,99.9531 M77.5,84.9531 L90.5,99.9531 " fill="none" filter="url(#f19pyumoxd51rd)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="30" y="493.7061">TelegramUser</text><ellipse cx="77.5" cy="507.0078" fill="#FEFECE" filter="url(#f19pyumoxd51rd)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M77.5,515.0078 L77.5,542.0078 M64.5,523.0078 L90.5,523.0078 M77.5,542.0078 L64.5,557.0078 M77.5,542.0078 L90.5,557.0078 " fill="none" filter="url(#f19pyumoxd51rd)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="36" x="215.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="222.5" y="107.9482">Bot</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="36" x="215.5" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="222.5" y="500.7061">Bot</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="265.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="272.5" y="107.9482">Hub</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="265.5" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="272.5" y="500.7061">Hub</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="520" y="119.9482">Database</text><path d="M534.5,70.9531 C534.5,60.9531 552.5,60.9531 552.5,60.9531 C552.5,60.9531 570.5,60.9531 570.5,70.9531 L570.5,96.9531 C570.5,106.9531 552.5,106.9531 552.5,106.9531 C552.5,106.9531 534.5,106.9531 534.5,96.9531 L534.5,70.9531 " fill="#FEFECE" filter="url(#f19pyumoxd51rd)" style="stroke:#000000;stroke-width:1.5;"/><path d="M534.5,70.9531 C534.5,80.9531 552.5,80.9531 552.5,80.9531 C552.5,80.9531 570.5,80.9531 570.5,70.9531 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="520" y="493.7061">Database</text><path d="M534.5,507.0078 C534.5,497.0078 552.5,497.0078 552.5,497.0078 C552.5,497.0078 570.5,497.0078 570.5,507.0078 L570.5,533.0078 C570.5,543.0078 552.5,543.0078 552.5,543.0078 C552.5,543.0078 534.5,543.0078 534.5,533.0078 L534.5,507.0078 " fill="#FEFECE" filter="url(#f19pyumoxd51rd)" style="stroke:#000000;stroke-width:1.5;"/><path d="M534.5,507.0078 C534.5,517.0078 552.5,517.0078 552.5,517.0078 C552.5,517.0078 570.5,517.0078 570.5,507.0078 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="595" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="602" y="107.9482">Auth</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="595" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="602" y="500.7061">Auth</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="59" x="707.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="714.5" y="107.9482">GitHub</text><rect fill="#FEFECE" filter="url(#f19pyumoxd51rd)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="59" x="707.5" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="714.5" y="500.7061">GitHub</text><path d="M10,140.25 L83,140.25 L83,147.25 L73,157.25 L10,157.25 L10,140.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="324.4609" style="stroke:#000000;stroke-width:2.0;" width="770.5" x="10" y="140.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="25" y="153.3169">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="98" y="152.4604">[every 30 minutes]</text><polygon fill="#A80036" points="298.5,159.3828,288.5,163.3828,298.5,167.3828,294.5,163.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="292.5" x2="618" y1="163.3828" y2="163.3828"/><polygon fill="#A80036" points="540.5,188.5156,550.5,192.5156,540.5,196.5156,544.5,192.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="287.5" x2="546.5" y1="192.5156" y2="192.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="294.5" y="187.4497">All tokens</text><polygon fill="#A80036" points="298.5,217.6484,288.5,221.6484,298.5,225.6484,294.5,221.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="551.5" y1="221.6484" y2="221.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="304.5" y="216.5825">Chat ID, Tokens</text><polygon fill="#A80036" points="607,246.7813,617,250.7813,607,254.7813,611,250.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.5" x2="613" y1="250.7813" y2="250.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="294.5" y="245.7153">Chat ID, Tokens</text><polygon fill="#A80036" points="727,275.9141,737,279.9141,727,283.9141,731,279.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="619" x2="733" y1="279.9141" y2="279.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="626" y="274.8481">Validate token</text><polygon fill="#A80036" points="630,305.0469,620,309.0469,630,313.0469,626,309.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="624" x2="738" y1="309.0469" y2="309.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="636" y="303.981">Validation status</text><path d="M20,324.0469 L83,324.0469 L83,331.0469 L73,341.0469 L20,341.0469 L20,324.0469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:2.0;" width="633" x="20" y="324.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="35" y="337.1138">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="98" y="336.2573">[Token expired]</text><polygon fill="#A80036" points="298.5,358.3125,288.5,362.3125,298.5,366.3125,294.5,362.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="292.5" x2="618" y1="362.3125" y2="362.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="304.5" y="357.2466">Chat ID, Token, TokenAlias expired</text><polygon fill="#A80036" points="540.5,387.4453,550.5,391.4453,540.5,395.4453,544.5,391.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="287.5" x2="546.5" y1="391.4453" y2="391.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="294.5" y="386.3794">Chat ID, Token, TokenAlias expired status</text><polygon fill="#A80036" points="246.5,416.5781,236.5,420.5781,246.5,424.5781,242.5,420.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="618" y1="420.5781" y2="420.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="252.5" y="415.5122">Chat ID, Token expired</text><polygon fill="#A80036" points="88.5,445.7109,78.5,449.7109,88.5,453.7109,84.5,449.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="234.5" y1="449.7109" y2="449.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="94.5" y="444.645">Chat ID, Token expired</text><!--MD5=[03c5f4d6112ccfdbf4c9df63269a3102]
@startuml
title Token Validation Process
actor       TelegramUser as user
participant Bot as bot
participant Hub as hub
database    Database    as db
participant Auth as auth
participant GitHub as github

loop every 30 minutes
 auth -> hub
 hub -> db: All tokens
 db - -> hub: Chat ID, Tokens
 hub - -> auth: Chat ID, Tokens
 auth -> github: Validate token
 github - -> auth: Validation status
 alt Token expired
     auth -> hub: Chat ID, Token, TokenAlias expired
     hub -> db: Chat ID, Token, TokenAlias expired status
         auth -> bot: Chat ID, Token expired
     bot - -> user: Chat ID, Token expired
  end
end
@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>